var B=Object.defineProperty,E=(e,n)=>()=>(e&&(n=e(e=0)),n),I=(e,n)=>{for(var t in n)B(e,t,{get:n[t],enumerable:!0})},P={};I(P,{WorldState:()=>j,default:()=>$,initThreadPool:()=>D,start:()=>C,wbg_rayon_PoolBuilder:()=>T,wbg_rayon_start_worker:()=>H});function c(e){return f[e]}function q(e){e<36||(f[e]=m,m=e)}function l(e){let n=c(e);return q(e),n}function k(){return(h===null||h.buffer!==a.memory.buffer)&&(h=new Uint8Array(a.memory.buffer)),h}function y(e,n){return R.decode(k().slice(e,e+n))}function u(e){m===f.length&&f.push(f.length+1);let n=m;return m=f[n],f[n]=e,n}function W(e){let n=typeof e;if(n=="number"||n=="boolean"||e==null)return`${e}`;if(n=="string")return`"${e}"`;if(n=="symbol"){let _=e.description;return _==null?"Symbol":`Symbol(${_})`}if(n=="function"){let _=e.name;return typeof _=="string"&&_.length>0?`Function(${_})`:"Function"}if(Array.isArray(e)){let _=e.length,r="[";_>0&&(r+=W(e[0]));for(let o=1;o<_;o++)r+=", "+W(e[o]);return r+="]",r}let t=/\[object ([^\]]+)\]/.exec(toString.call(e)),s;if(t.length>1)s=t[1];else return toString.call(e);if(s=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:s}function g(e,n,t){if(t===void 0){let i=S.encode(e),w=n(i.length);return k().subarray(w,w+i.length).set(i),b=i.length,w}let s=e.length,_=n(s),r=k(),o=0;for(;o<s;o++){let i=e.charCodeAt(o);if(i>127)break;r[_+o]=i}if(o!==s){o!==0&&(e=e.slice(o)),_=t(_,s,s=o+e.length*3);let i=k().subarray(_+o,_+s),w=L(e,i);o+=w.written}return b=o,_}function A(){return(v===null||v.buffer!==a.memory.buffer)&&(v=new Int32Array(a.memory.buffer)),v}function C(){a.start()}function d(e,n){try{return e.apply(this,n)}catch(t){a.__wbindgen_exn_store(u(t))}}function D(e){var n=a.initThreadPool(e);return l(n)}function H(e){a.wbg_rayon_start_worker(e)}async function J(e,n){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,n)}catch(s){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",s);else throw s}let t=await e.arrayBuffer();return await WebAssembly.instantiate(t,n)}else{let t=await WebAssembly.instantiate(e,n);return t instanceof WebAssembly.Instance?{instance:t,module:e}:t}}async function O(e,n){typeof e>"u"&&(e=new URL(""+new URL("wasm_demo_bg.506fffa6.wasm",self.location).href,self.location));let t={};t.wbg={},t.wbg.__wbindgen_object_drop_ref=function(r){l(r)},t.wbg.__wbindgen_string_new=function(r,o){var i=y(r,o);return u(i)},t.wbg.__wbindgen_object_clone_ref=function(r){var o=c(r);return u(o)},t.wbg.__wbg_new_68adb0d58759a4ed=function(){var r=new Object;return u(r)},t.wbg.__wbindgen_number_new=function(r){var o=r;return u(o)},t.wbg.__wbindgen_is_undefined=function(r){var o=c(r)===void 0;return o},t.wbg.__wbg_set_2e79e744454afade=function(r,o,i){c(r)[l(o)]=l(i)},t.wbg.__wbg_new_693216e109162396=function(){var r=new Error;return u(r)},t.wbg.__wbg_stack_0ddaca5d1abfb52f=function(r,o){var i=c(o).stack,w=g(i,a.__wbindgen_malloc,a.__wbindgen_realloc),p=b;A()[r/4+1]=p,A()[r/4+0]=w},t.wbg.__wbg_error_09919627ac0992f5=function(r,o){try{console.error(y(r,o))}finally{a.__wbindgen_free(r,o)}},t.wbg.__wbg_now_559193109055ebad=function(r){var o=c(r).now();return o},t.wbg.__wbg_new_949bbc1147195c4e=function(){var r=new Array;return u(r)},t.wbg.__wbg_newnoargs_be86524d73f67598=function(r,o){var i=new Function(y(r,o));return u(i)},t.wbg.__wbg_get_4d0f21c2f823742e=function(){return d(function(r,o){var i=Reflect.get(c(r),c(o));return u(i)},arguments)},t.wbg.__wbg_call_888d259a5fefc347=function(){return d(function(r,o){var i=c(r).call(c(o));return u(i)},arguments)},t.wbg.__wbg_self_c6fbdfc2918d5e58=function(){return d(function(){var r=self.self;return u(r)},arguments)},t.wbg.__wbg_window_baec038b5ab35c54=function(){return d(function(){var r=window.window;return u(r)},arguments)},t.wbg.__wbg_globalThis_3f735a5746d41fbd=function(){return d(function(){var r=globalThis.globalThis;return u(r)},arguments)},t.wbg.__wbg_global_1bc0b39582740e95=function(){return d(function(){var r=global.global;return u(r)},arguments)},t.wbg.__wbg_push_284486ca27c6aa8b=function(r,o){var i=c(r).push(c(o));return i},t.wbg.__wbg_new_342a24ca698edd87=function(r,o){var i=new Error(y(r,o));return u(i)},t.wbg.__wbindgen_debug_string=function(r,o){var i=W(c(o)),w=g(i,a.__wbindgen_malloc,a.__wbindgen_realloc),p=b;A()[r/4+1]=p,A()[r/4+0]=w},t.wbg.__wbindgen_throw=function(r,o){throw new Error(y(r,o))},t.wbg.__wbindgen_module=function(){var r=O.__wbindgen_wasm_module;return u(r)},t.wbg.__wbindgen_memory=function(){var r=a.memory;return u(r)},t.wbg.__wbg_startWorkers_04f63eca19916b8f=function(r,o,i){var w=z(l(r),l(o),T.__wrap(i));return u(w)},(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e)),t.wbg.memory=n||new WebAssembly.Memory({initial:35,maximum:16384,shared:!0});let{instance:s,module:_}=await J(await e,t);return a=s.exports,O.__wbindgen_wasm_module=_,a.__wbindgen_start(),a}var a,f,m,R,h,b,S,L,v,j,T,$,N=E(()=>{M(),f=new Array(32).fill(void 0),f.push(void 0,null,!0,!1),m=f.length,R=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),R.decode(),h=null,b=0,S=new TextEncoder("utf-8"),L=function(e,n){let t=S.encode(e);return n.set(t),{read:e.length,written:t.length}},v=null,j=class{static __wrap(e){let n=Object.create(j.prototype);return n.ptr=e,n}__destroy_into_raw(){let e=this.ptr;return this.ptr=0,e}free(){let e=this.__destroy_into_raw();a.__wbg_worldstate_free(e)}constructor(){var e=a.worldstate_new();return j.__wrap(e)}init(e,n,t,s){var _=g(e,a.__wbindgen_malloc,a.__wbindgen_realloc),r=b,o=g(n,a.__wbindgen_malloc,a.__wbindgen_realloc),i=b,w=g(t,a.__wbindgen_malloc,a.__wbindgen_realloc),p=b,U=g(s,a.__wbindgen_malloc,a.__wbindgen_realloc),F=b;a.worldstate_init(this.ptr,_,r,o,i,w,p,U,F)}update(e){var n=g(e,a.__wbindgen_malloc,a.__wbindgen_realloc),t=b,s=a.worldstate_update(this.ptr,n,t);return l(s)}inlay_hints(){var e=a.worldstate_inlay_hints(this.ptr);return l(e)}completions(e,n){var t=a.worldstate_completions(this.ptr,e,n);return l(t)}hover(e,n){var t=a.worldstate_hover(this.ptr,e,n);return l(t)}code_lenses(){var e=a.worldstate_code_lenses(this.ptr);return l(e)}references(e,n,t){var s=a.worldstate_references(this.ptr,e,n,t);return l(s)}prepare_rename(e,n){var t=a.worldstate_prepare_rename(this.ptr,e,n);return l(t)}rename(e,n,t){var s=g(t,a.__wbindgen_malloc,a.__wbindgen_realloc),_=b,r=a.worldstate_rename(this.ptr,e,n,s,_);return l(r)}signature_help(e,n){var t=a.worldstate_signature_help(this.ptr,e,n);return l(t)}definition(e,n){var t=a.worldstate_definition(this.ptr,e,n);return l(t)}type_definition(e,n){var t=a.worldstate_type_definition(this.ptr,e,n);return l(t)}document_symbols(){var e=a.worldstate_document_symbols(this.ptr);return l(e)}type_formatting(e,n,t){var s=a.worldstate_type_formatting(this.ptr,e,n,t.codePointAt(0));return l(s)}folding_ranges(){var e=a.worldstate_folding_ranges(this.ptr);return l(e)}goto_implementation(e,n){var t=a.worldstate_goto_implementation(this.ptr,e,n);return l(t)}},T=class{static __wrap(e){let n=Object.create(T.prototype);return n.ptr=e,n}__destroy_into_raw(){let e=this.ptr;return this.ptr=0,e}free(){let e=this.__destroy_into_raw();a.__wbg_wbg_rayon_poolbuilder_free(e)}numThreads(){var e=a.wbg_rayon_poolbuilder_numThreads(this.ptr);return e>>>0}receiver(){var e=a.wbg_rayon_poolbuilder_receiver(this.ptr);return e}build(){a.wbg_rayon_poolbuilder_build(this.ptr)}},$=O});function x(e,n){return new Promise(t=>{e.addEventListener("message",function s({data:_}){_==null||_.type!==n||(e.removeEventListener("message",s),t(_))})})}async function z(e,n,t){let s={type:"wasm_bindgen_worker_init",module:e,memory:n,receiver:t.receiver()};await Promise.all(Array.from({length:t.numThreads()},async()=>{let _=new Worker(new URL("workerHelpers.bab6286b.js",self.location),{type:"module"});return _.postMessage(s),await x(_,"wasm_bindgen_worker_ready"),_})),t.build()}var M=E(()=>{x(self,"wasm_bindgen_worker_init").then(async e=>{let n=await Promise.resolve().then(()=>(N(),P));await n.default(e.module,e.memory),postMessage({type:"wasm_bindgen_worker_ready"}),n.wbg_rayon_start_worker(e.receiver)})});M();
