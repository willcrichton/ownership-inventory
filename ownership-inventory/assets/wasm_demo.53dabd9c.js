import{s as U}from"./workerHelpers.8c811a52.js";let i;const w=new Array(32).fill(void 0);w.push(void 0,null,!0,!1);function b(n){return w[n]}let h=w.length;function $(n){n<36||(w[n]=h,h=n)}function c(n){const e=b(n);return $(n),e}let k=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});k.decode();let y=null;function j(){return(y===null||y.buffer!==i.memory.buffer)&&(y=new Uint8Array(i.memory.buffer)),y}function m(n,e){return k.decode(j().slice(n,n+e))}function u(n){h===w.length&&w.push(w.length+1);const e=h;return h=w[e],w[e]=n,e}function O(n){const e=typeof n;if(e=="number"||e=="boolean"||n==null)return`${n}`;if(e=="string")return`"${n}"`;if(e=="symbol"){const s=n.description;return s==null?"Symbol":`Symbol(${s})`}if(e=="function"){const s=n.name;return typeof s=="string"&&s.length>0?`Function(${s})`:"Function"}if(Array.isArray(n)){const s=n.length;let r="[";s>0&&(r+=O(n[0]));for(let o=1;o<s;o++)r+=", "+O(n[o]);return r+="]",r}const t=/\[object ([^\]]+)\]/.exec(toString.call(n));let a;if(t.length>1)a=t[1];else return toString.call(n);if(a=="Object")try{return"Object("+JSON.stringify(n)+")"}catch{return"Object"}return n instanceof Error?`${n.name}: ${n.message}
${n.stack}`:a}let f=0,E=new TextEncoder("utf-8");const F=function(n,e){const t=E.encode(n);return e.set(t),{read:n.length,written:t.length}};function g(n,e,t){if(t===void 0){const _=E.encode(n),l=e(_.length);return j().subarray(l,l+_.length).set(_),f=_.length,l}let a=n.length,s=e(a);const r=j();let o=0;for(;o<a;o++){const _=n.charCodeAt(o);if(_>127)break;r[s+o]=_}if(o!==a){o!==0&&(n=n.slice(o)),s=t(s,a,a=o+n.length*3);const _=j().subarray(s+o,s+a),l=F(n,_);o+=l.written}return f=o,s}let v=null;function A(){return(v===null||v.buffer!==i.memory.buffer)&&(v=new Int32Array(i.memory.buffer)),v}function C(){i.start()}function d(n,e){try{return n.apply(this,e)}catch(t){i.__wbindgen_exn_store(u(t))}}function N(n){var e=i.initThreadPool(n);return c(e)}function P(n){i.wbg_rayon_start_worker(n)}class T{static __wrap(e){const t=Object.create(T.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();i.__wbg_worldstate_free(e)}constructor(){var e=i.worldstate_new();return T.__wrap(e)}init(e,t,a,s){var r=g(e,i.__wbindgen_malloc,i.__wbindgen_realloc),o=f,_=g(t,i.__wbindgen_malloc,i.__wbindgen_realloc),l=f,p=g(a,i.__wbindgen_malloc,i.__wbindgen_realloc),M=f,R=g(s,i.__wbindgen_malloc,i.__wbindgen_realloc),x=f;i.worldstate_init(this.ptr,r,o,_,l,p,M,R,x)}update(e){var t=g(e,i.__wbindgen_malloc,i.__wbindgen_realloc),a=f,s=i.worldstate_update(this.ptr,t,a);return c(s)}inlay_hints(){var e=i.worldstate_inlay_hints(this.ptr);return c(e)}completions(e,t){var a=i.worldstate_completions(this.ptr,e,t);return c(a)}hover(e,t){var a=i.worldstate_hover(this.ptr,e,t);return c(a)}code_lenses(){var e=i.worldstate_code_lenses(this.ptr);return c(e)}references(e,t,a){var s=i.worldstate_references(this.ptr,e,t,a);return c(s)}prepare_rename(e,t){var a=i.worldstate_prepare_rename(this.ptr,e,t);return c(a)}rename(e,t,a){var s=g(a,i.__wbindgen_malloc,i.__wbindgen_realloc),r=f,o=i.worldstate_rename(this.ptr,e,t,s,r);return c(o)}signature_help(e,t){var a=i.worldstate_signature_help(this.ptr,e,t);return c(a)}definition(e,t){var a=i.worldstate_definition(this.ptr,e,t);return c(a)}type_definition(e,t){var a=i.worldstate_type_definition(this.ptr,e,t);return c(a)}document_symbols(){var e=i.worldstate_document_symbols(this.ptr);return c(e)}type_formatting(e,t,a){var s=i.worldstate_type_formatting(this.ptr,e,t,a.codePointAt(0));return c(s)}folding_ranges(){var e=i.worldstate_folding_ranges(this.ptr);return c(e)}goto_implementation(e,t){var a=i.worldstate_goto_implementation(this.ptr,e,t);return c(a)}}class S{static __wrap(e){const t=Object.create(S.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();i.__wbg_wbg_rayon_poolbuilder_free(e)}numThreads(){var e=i.wbg_rayon_poolbuilder_numThreads(this.ptr);return e>>>0}receiver(){var e=i.wbg_rayon_poolbuilder_receiver(this.ptr);return e}build(){i.wbg_rayon_poolbuilder_build(this.ptr)}}async function I(n,e){if(typeof Response=="function"&&n instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(n,e)}catch(a){if(n.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",a);else throw a}const t=await n.arrayBuffer();return await WebAssembly.instantiate(t,e)}else{const t=await WebAssembly.instantiate(n,e);return t instanceof WebAssembly.Instance?{instance:t,module:n}:t}}async function W(n,e){typeof n>"u"&&(n=new URL(""+new URL("wasm_demo_bg.506fffa6.wasm",import.meta.url).href,self.location));const t={};t.wbg={},t.wbg.__wbindgen_object_drop_ref=function(r){c(r)},t.wbg.__wbindgen_string_new=function(r,o){var _=m(r,o);return u(_)},t.wbg.__wbindgen_object_clone_ref=function(r){var o=b(r);return u(o)},t.wbg.__wbg_new_68adb0d58759a4ed=function(){var r=new Object;return u(r)},t.wbg.__wbindgen_number_new=function(r){var o=r;return u(o)},t.wbg.__wbindgen_is_undefined=function(r){var o=b(r)===void 0;return o},t.wbg.__wbg_set_2e79e744454afade=function(r,o,_){b(r)[c(o)]=c(_)},t.wbg.__wbg_new_693216e109162396=function(){var r=new Error;return u(r)},t.wbg.__wbg_stack_0ddaca5d1abfb52f=function(r,o){var _=b(o).stack,l=g(_,i.__wbindgen_malloc,i.__wbindgen_realloc),p=f;A()[r/4+1]=p,A()[r/4+0]=l},t.wbg.__wbg_error_09919627ac0992f5=function(r,o){try{console.error(m(r,o))}finally{i.__wbindgen_free(r,o)}},t.wbg.__wbg_now_559193109055ebad=function(r){var o=b(r).now();return o},t.wbg.__wbg_new_949bbc1147195c4e=function(){var r=new Array;return u(r)},t.wbg.__wbg_newnoargs_be86524d73f67598=function(r,o){var _=new Function(m(r,o));return u(_)},t.wbg.__wbg_get_4d0f21c2f823742e=function(){return d(function(r,o){var _=Reflect.get(b(r),b(o));return u(_)},arguments)},t.wbg.__wbg_call_888d259a5fefc347=function(){return d(function(r,o){var _=b(r).call(b(o));return u(_)},arguments)},t.wbg.__wbg_self_c6fbdfc2918d5e58=function(){return d(function(){var r=self.self;return u(r)},arguments)},t.wbg.__wbg_window_baec038b5ab35c54=function(){return d(function(){var r=window.window;return u(r)},arguments)},t.wbg.__wbg_globalThis_3f735a5746d41fbd=function(){return d(function(){var r=globalThis.globalThis;return u(r)},arguments)},t.wbg.__wbg_global_1bc0b39582740e95=function(){return d(function(){var r=global.global;return u(r)},arguments)},t.wbg.__wbg_push_284486ca27c6aa8b=function(r,o){var _=b(r).push(b(o));return _},t.wbg.__wbg_new_342a24ca698edd87=function(r,o){var _=new Error(m(r,o));return u(_)},t.wbg.__wbindgen_debug_string=function(r,o){var _=O(b(o)),l=g(_,i.__wbindgen_malloc,i.__wbindgen_realloc),p=f;A()[r/4+1]=p,A()[r/4+0]=l},t.wbg.__wbindgen_throw=function(r,o){throw new Error(m(r,o))},t.wbg.__wbindgen_module=function(){var r=W.__wbindgen_wasm_module;return u(r)},t.wbg.__wbindgen_memory=function(){var r=i.memory;return u(r)},t.wbg.__wbg_startWorkers_04f63eca19916b8f=function(r,o,_){var l=U(c(r),c(o),S.__wrap(_));return u(l)},(typeof n=="string"||typeof Request=="function"&&n instanceof Request||typeof URL=="function"&&n instanceof URL)&&(n=fetch(n)),t.wbg.memory=e||new WebAssembly.Memory({initial:35,maximum:16384,shared:!0});const{instance:a,module:s}=await I(await n,t);return i=a.exports,W.__wbindgen_wasm_module=s,i.__wbindgen_start(),i}export{T as WorldState,W as default,N as initThreadPool,C as start,S as wbg_rayon_PoolBuilder,P as wbg_rayon_start_worker};
