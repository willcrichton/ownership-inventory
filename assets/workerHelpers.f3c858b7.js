const f="modulepreload",_=function(e,r){return new URL(e,r).href},m={},y=function(r,t,i){if(!t||t.length===0)return r();const n=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=_(s,i),s in m)return;m[s]=!0;const a=s.endsWith(".css"),w=a?'[rel="stylesheet"]':"";if(!!i)for(let l=n.length-1;l>=0;l--){const c=n[l];if(c.href===s&&(!a||c.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${w}`))return;const o=document.createElement("link");if(o.rel=a?"stylesheet":f,a||(o.as="script",o.crossOrigin=""),o.href=s,document.head.appendChild(o),a)return new Promise((l,c)=>{o.addEventListener("load",l),o.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>r())};function u(e,r){return new Promise(t=>{e.addEventListener("message",function i({data:n}){n==null||n.type!==r||(e.removeEventListener("message",i),t(n))})})}u(self,"wasm_bindgen_worker_init").then(async e=>{const r=await y(()=>import("./wasm_demo.cb05871f.js"),[],import.meta.url);await r.default(e.module,e.memory),postMessage({type:"wasm_bindgen_worker_ready"}),r.wbg_rayon_start_worker(e.receiver)});async function k(e,r,t){const i={type:"wasm_bindgen_worker_init",module:e,memory:r,receiver:t.receiver()};await Promise.all(Array.from({length:t.numThreads()},async()=>{const n=new Worker(new URL("workerHelpers.f3c858b7.js",import.meta.url),{type:"module"});return n.postMessage(i),await u(n,"wasm_bindgen_worker_ready"),n})),t.build()}export{k as s};
